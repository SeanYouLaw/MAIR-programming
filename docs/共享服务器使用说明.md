# 共享服务器使用说明

## 用户须知

禁止违反国家法律、法规、政策以及学校规章，执行有关规定明确禁止的各种操作。

禁止运行“挖矿”程序。

禁止利用服务器对外渗透测试或发动攻击。未经管理员授权，禁止对服务器尝试渗透测试或发动攻击。

禁止故意破坏其他用户的文件与进程。

请勿滥用服务器资源。若服务器资源不足，请联系管理员与占用者，协商解决。

用户账号所执行的一切操作由用户本人负责，请勿转借给他人使用。

未经管理员授权，禁止运行:
+ 虚拟专用网络(VPN)
+ 内网穿透服务
+ 网络游戏服务
+ BT 下载和做种程序
+ 大规模爬虫
+ 大规模区块链节点
+ 其他不属于学习范围的程序

如有特殊使用需求，请联系管理员申请授权。

管理员不得泄露用户隐私信息。

管理员有权检查用户文件和进程以确认安全。用户请勿存放敏感信息。

出现紧急安全事件时，管理员有权要求用户暂停任务并执行安全响应。

请勿违反规定。根据情节严重程度，管理员有权暂停或永久取消违规用户的使用权限，处理决定将向所有用户公示。

## 开发环境

我们为每位用户提供独立的容器内开发环境。以下是技术细节。

### 宿主服务器

|     设备     | 描述                                        |
| :----------: | ------------------------------------------- |
|   CPU 型号   | Intel(R) Xeon(R) Silver 4210R CPU @ 2.40GHz |
| CPU 逻辑核数 | 40                                          |
|     内存     | 约 92 GiB                                   |
|     显卡     | Quadro RTX 4000                             |
|     显存     | 8 GiB                                       |
| 可用存储空间 | 约 1.5 TiB                                  |

所有用户共享宿主服务器的设备资源。

### 容器内开发环境

操作系统 Ubuntu 22.04

容器内可用 CPU、内存、显卡、显存、存储空间等资源均不受限制，但请勿长时间占用大量资源。

容器内已预装 Python、C++、Java 工具链，以及 numpy、matplotlib、pandas、jupyterlab、torch 等 Python 常用库。如需更多软件，请自行安装与配置。

开发环境升级和重启时将有可能重置容器内所有文件，**请记录您的操作过程并及时备份**，以免丢失重要数据。管理员将及时通知此类事件。

您可以将用户数据存放于以下挂载目录，以免受到容器重启的影响:
+ `/data/<学号>`: 您的独占数据目录
+ `/data/shared`: 与所有用户共享的数据目录

容器内绑定了 10 个服务器校园网端口，范围是 `10xx0`~`10xx9`，其中 xx 是您的序号。
+ `10xx0`: 容器内为 22 端口，用于 ssh
+ `10xx1`: 容器内为 80 端口，用于 http
+ `10xx2`~`10xx9`: 容器内为相同端口

您可以通过 ssh 登录开发环境，请**加入交流群**查看当前服务器地址与您的序号。

容器内主机名为学号，用户名为 mair，默认密码为手机号，**登录后请立即修改密码**。如果您忘记了自己的密码，请联系管理员重置密码。

### 远程登录

示例：若您的序号为 01，服务器地址为 10.12.34.56，则您可以通过以下方式登录开发环境。

#### Linux / macOS

打开终端，输入命令，根据提示输入密码。

```bash
ssh -p 10010 mair@10.12.34.56
```

命令格式为

```
ssh -p 10<序号>0 mair@<服务器地址>
```

此外您还可以通过 ssh 密钥和 ssh-copy-id 实现免密登录，具体方法请自行学习。

#### Windows

从 Microsoft Store 安装 Windows Terminal，打开后输入命令，根据提示输入密码。

```powershell
ssh -p 10010 mair@10.12.34.56
```

命令格式为

```
ssh -p 10<序号>0 mair@<服务器地址>
```

#### 其他方式

Visual Studio Code (vscode)
+ <https://code.visualstudio.com/docs/remote/ssh>
+ 非官方教程: <https://zhuanlan.zhihu.com/p/141205262>

PuTTY 
+ <https://www.putty.org/>
+ 非官方教程: <https://zhuanlan.zhihu.com/p/35707142>
